# azure-pipelines.yml
trigger:
  - main

pool:
  name: Default
  demands:
    - agent.name -equals chakri

steps:
  # Step 1: Verify Java, Maven, and Chrome
  - script: |
      java -version
      mvn -version
      /Applications/Google\ Chrome.app/Contents/MacOS/Google\ Chrome --version
      /opt/homebrew/bin/chromedriver --version
    displayName: 'Verify Java, Maven, Chrome, and ChromeDriver'

  # Step 2: Build and run Selenium tests
  - script: |
      mvn clean compile exec:java -Dexec.mainClass="com.example.App"
    displayName: 'Build and run Selenium tests'
